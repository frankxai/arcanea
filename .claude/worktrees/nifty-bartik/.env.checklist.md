# Environment Setup Checklist
Quick reference for setting up Arcanea environment variables

---

## üöÄ Quick Start (5 Minutes)

### Step 1: Copy Template
```bash
cd apps/web
cp .env.example .env.local
```

### Step 2: Get Required Keys

#### Supabase (3 keys needed)
- [ ] Go to [app.supabase.com](https://app.supabase.com)
- [ ] Open your project ‚Üí Settings ‚Üí API
- [ ] Copy **Project URL** ‚Üí Paste into `NEXT_PUBLIC_SUPABASE_URL`
- [ ] Copy **anon public** key ‚Üí Paste into `NEXT_PUBLIC_SUPABASE_ANON_KEY`
- [ ] Copy **service_role** key ‚Üí Paste into `SUPABASE_SERVICE_ROLE_KEY`

#### Google Gemini (1 key needed)
- [ ] Go to [aistudio.google.com/apikey](https://aistudio.google.com/app/apikey)
- [ ] Click "Create API Key"
- [ ] Copy key ‚Üí Paste into `GEMINI_API_KEY`

### Step 3: Verify
```bash
# Install tsx if needed
pnpm add -D tsx

# Run validation
pnpm run check:env

# Should show: ‚úÖ All required environment variables are set
```

### Step 4: Start Development
```bash
pnpm run dev
# Open http://localhost:3001
```

---

## üìã Required Variables

| Variable | Format | Example | Where to Get |
|----------|--------|---------|--------------|
| `NEXT_PUBLIC_SUPABASE_URL` | URL | `https://xxx.supabase.co` | Supabase ‚Üí Settings ‚Üí API |
| `NEXT_PUBLIC_SUPABASE_ANON_KEY` | JWT | `eyJhbGciOiJIUzI1...` | Same as above |
| `SUPABASE_SERVICE_ROLE_KEY` | JWT | `eyJhbGciOiJIUzI1...` | Same as above |
| `GEMINI_API_KEY` | String | `AIzaSyYourKeyHere` | [aistudio.google.com/apikey](https://aistudio.google.com/apikey) |

---

## üîß Optional Variables (Future Features)

- [ ] `ANTHROPIC_API_KEY` - Claude AI models
- [ ] `OPENAI_API_KEY` - GPT and DALL-E
- [ ] `STABILITY_API_KEY` - Stable Diffusion images
- [ ] `NEXTAUTH_SECRET` - User authentication
- [ ] `STRIPE_SECRET_KEY` - Payment processing

---

## üö¢ Production Deployment Checklist

### Vercel Setup
- [ ] Install Vercel CLI: `pnpm add -g vercel`
- [ ] Login: `vercel login`
- [ ] Link project: `vercel link`

### Add Environment Variables
```bash
vercel env add NEXT_PUBLIC_SUPABASE_URL production
vercel env add NEXT_PUBLIC_SUPABASE_ANON_KEY production
vercel env add SUPABASE_SERVICE_ROLE_KEY production
vercel env add GEMINI_API_KEY production
```

### Deploy
- [ ] Run: `vercel --prod`
- [ ] Test: Visit your production URL
- [ ] Verify: Check `/api/health` endpoint

---

## üîí Security Checklist

- [ ] ‚úÖ .env.local is in .gitignore (never commit)
- [ ] ‚úÖ Only NEXT_PUBLIC_ vars exposed to client
- [ ] ‚úÖ Service role key only used in API routes
- [ ] ‚úÖ API keys rotated every 90 days
- [ ] ‚úÖ Rate limits set on AI APIs
- [ ] ‚úÖ Different keys for dev/staging/prod
- [ ] ‚úÖ Billing alerts configured

---

## üêõ Troubleshooting

### Build Fails
```bash
# Check if .env.local exists
ls -la apps/web/.env.local

# If not, copy from example
cp apps/web/.env.example apps/web/.env.local
```

### Variables Not Loading
```bash
# Restart dev server
pnpm run dev

# Clear Next.js cache
rm -rf apps/web/.next
```

### Validation Fails
```bash
# Run check with details
pnpm run check:env

# Fix the specific errors shown
```

### Vercel Issues
```bash
# Check what's set
vercel env ls

# Redeploy
vercel --prod --force
```

---

## üìö Full Documentation

- **Setup Guide**: `ENVIRONMENT_SETUP.md`
- **Audit Report**: `../../../ENV_AUDIT_REPORT.md`
- **Type-Safe Access**: `apps/web/lib/env.ts`

---

## ‚úÖ Final Verification

Before pushing to production:

```bash
# 1. Validate environment
pnpm run check:env

# 2. Type check
pnpm run type-check

# 3. Build
pnpm run build

# 4. Test locally
pnpm run start
```

All green? You're ready to deploy! üöÄ
