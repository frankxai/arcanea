<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üîÆ Arcanea ‚Äî Where Magic Meets Intelligence</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10/dist/framer-motion.js"></script>
    <script src="https://unpkg.com/three@0.157.0/build/three.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Inter', sans-serif;
            background: #0a0a0f;
            color: #e0e0e0;
            overflow-x: hidden;
        }
        
        .font-cinzel {
            font-family: 'Cinzel', serif;
        }
        
        .gradient-glow {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f97316 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .gradient-border {
            background: linear-gradient(135deg, #667eea, #764ba2, #f97316);
            padding: 2px;
            border-radius: 12px;
        }
        
        .gradient-border-inner {
            background: #0a0a0f;
            border-radius: 10px;
            padding: 1px;
        }
        
        .glass {
            background: rgba(20, 20, 30, 0.7);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .magical-particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: radial-gradient(circle, #f97316, transparent);
            border-radius: 50%;
            animation: float 8s infinite ease-in-out;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(-100vh) rotate(720deg); opacity: 0; }
        }
        
        .pulse-ring {
            animation: pulse-ring 2s infinite;
        }
        
        @keyframes pulse-ring {
            0% { transform: scale(0.8); opacity: 1; }
            100% { transform: scale(1.5); opacity: 0; }
        }
        
        .spell-card {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .spell-card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 20px 40px rgba(102, 126, 234, 0.3);
        }
        
        .element-fire { --element-color: #f97316; }
        .element-water { --element-color: #06b6d4; }
        .element-earth { --element-color: #22c55e; }
        .element-air { --element-color: #eab308; }
        .element-void { --element-color: #a855f7; }
        
        .orb {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: radial-gradient(circle at 30% 30%, var(--element-color), transparent);
            animation: orb-pulse 3s infinite ease-in-out;
        }
        
        @keyframes orb-pulse {
            0%, 100% { transform: scale(1); opacity: 0.8; }
            50% { transform: scale(1.1); opacity: 1; }
        }
        
        .rune {
            font-family: 'Cinzel', serif;
            font-size: 24px;
            color: var(--element-color);
            text-shadow: 0 0 20px var(--element-color);
        }
        
        #canvas-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
        }
        
        .content-layer {
            position: relative;
            z-index: 1;
        }
        
        .tab-button {
            transition: all 0.3s ease;
            position: relative;
        }
        
        .tab-button.active {
            color: #f97316;
        }
        
        .tab-button.active::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, #f97316, transparent);
        }
        
        .progress-bar {
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2, #f97316);
            transition: width 0.5s ease;
        }
    </style>
</head>
<body>
    <div id="canvas-container"></div>
    <div id="root" class="content-layer"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, useMemo } = React;
        const { motion, AnimatePresence } = window.Motion;

        // === MAGICAL PARTICLE SYSTEM ===
        function ParticleBackground() {
            const canvasRef = useRef(null);
            
            useEffect(() => {
                const canvas = canvasRef.current;
                const ctx = canvas.getContext('2d');
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
                
                const particles = [];
                const particleCount = 50;
                
                for (let i = 0; i < particleCount; i++) {
                    particles.push({
                        x: Math.random() * canvas.width,
                        y: Math.random() * canvas.height,
                        size: Math.random() * 3 + 1,
                        speedY: -Math.random() * 1 - 0.5,
                        speedX: Math.random() * 0.5 - 0.25,
                        opacity: Math.random(),
                        hue: Math.random() * 60 + 20 // Orange to purple range
                    });
                }
                
                function animate() {
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                    
                    particles.forEach(p => {
                        p.y += p.speedY;
                        p.x += p.speedX;
                        p.opacity = (Math.sin(Date.now() * 0.001 + p.x * 0.01) + 1) / 2;
                        
                        if (p.y < 0) {
                            p.y = canvas.height;
                            p.x = Math.random() * canvas.width;
                        }
                        
                        ctx.beginPath();
                        ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
                        ctx.fillStyle = `hsla(${p.hue}, 100%, 70%, ${p.opacity})`;
                        ctx.fill();
                        
                        // Glow effect
                        ctx.beginPath();
                        ctx.arc(p.x, p.y, p.size * 3, 0, Math.PI * 2);
                        ctx.fillStyle = `hsla(${p.hue}, 100%, 70%, ${p.opacity * 0.2})`;
                        ctx.fill();
                    });
                    
                    requestAnimationFrame(animate);
                }
                
                const handleResize = () => {
                    canvas.width = window.innerWidth;
                    canvas.height = window.innerHeight;
                };
                
                window.addEventListener('resize', handleResize);
                animate();
                
                return () => window.removeEventListener('resize', handleResize);
            }, []);
            
            return <canvas ref={canvasRef} id="canvas-container" />;
        }

        // === ARCANEA DATA ===
        const GUARDIANS = [
            { id: 'draconia', name: 'Draconia', element: 'fire', color: '#f97316', symbol: 'üî•', rune: '·ö†', specialty: 'Transformation' },
            { id: 'leylya', name: 'Leylya', element: 'water', color: '#06b6d4', symbol: 'üíß', rune: '·ö¢', specialty: 'Emotion' },
            { id: 'lyssandria', name: 'Lyssandria', element: 'earth', color: '#22c55e', symbol: 'üåø', rune: '·ö¶', specialty: 'Structure' },
            { id: 'alera', name: 'Alera', element: 'air', color: '#eab308', symbol: 'üí®', rune: '·ö®', specialty: 'Expression' },
            { id: 'elara', name: 'Elara', element: 'void', color: '#a855f7', symbol: '‚ú®', rune: '·ö±', specialty: 'Innovation' }
        ];

        const SPELLS = [
            { id: 1, name: 'Character Creation', guardian: 'draconia', description: 'Forge unique characters with depth and purpose', icon: 'üë§', category: 'creative' },
            { id: 2, name: 'World Building', guardian: 'lyssandria', description: 'Construct immersive realms with rich histories', icon: 'üåç', category: 'structural' },
            { id: 3, name: 'Story Weaving', guardian: 'leylya', description: 'Craft emotional narratives that resonate', icon: 'üìñ', category: 'creative' },
            { id: 4, name: 'Dialogue Craft', guardian: 'alera', description: 'Write authentic voices for every character', icon: 'üí¨', category: 'expressive' },
            { id: 5, name: 'Theme Analysis', guardian: 'leylya', description: 'Uncover deeper meanings in your work', icon: 'üîç', category: 'analytical' },
            { id: 6, name: 'Magic Systems', guardian: 'elara', description: 'Design unique magical frameworks', icon: '‚ö°', category: 'innovative' }
        ];

        const STATS = {
            characters: 128,
            worlds: 47,
            spells: 256,
            agents: 38
        };

        // === MAIN APP COMPONENT ===
        function App() {
            const [activeTab, setActiveTab] = useState('spells');
            const [selectedGuardian, setSelectedGuardian] = useState(null);
            const [showSpellModal, setShowSpellModal] = useState(false);
            const [selectedSpell, setSelectedSpell] = useState(null);
            const [spellProgress, setSpellProgress] = useState(0);
            const [isCasting, setIsCasting] = useState(false);

            const castSpell = (spell) => {
                setSelectedSpell(spell);
                setShowSpellModal(true);
                setIsCasting(true);
                setSpellProgress(0);
                
                // Simulate casting progress
                const interval = setInterval(() => {
                    setSpellProgress(prev => {
                        if (prev >= 100) {
                            clearInterval(interval);
                            setIsCasting(false);
                            return 100;
                        }
                        return prev + Math.random() * 15;
                    });
                }, 200);
            };

            const filteredSpells = selectedGuardian 
                ? SPELLS.filter(s => s.guardian === selectedGuardian)
                : SPELLS;

            return (
                <div className="min-h-screen">
                    <ParticleBackground />
                    
                    {/* Header */}
                    <header className="container mx-auto px-6 py-8">
                        <motion.div 
                            initial={{ opacity: 0, y: -30 }}
                            animate={{ opacity: 1, y: 0 }}
                            className="text-center"
                        >
                            <div className="flex items-center justify-center gap-4 mb-4">
                                <motion.div 
                                    animate={{ rotate: 360 }}
                                    transition={{ duration: 20, repeat: Infinity, ease: "linear" }}
                                    className="w-16 h-16 rounded-full bg-gradient-to-r from-orange-500 to-purple-600 flex items-center justify-center"
                                >
                                    <span className="text-3xl">üîÆ</span>
                                </motion.div>
                            </div>
                            <h1 className="text-6xl font-cinzel font-bold gradient-glow mb-2">
                                ARCANEA
                            </h1>
                            <p className="text-xl text-gray-400 font-light">
                                Where Magic Meets Intelligence
                            </p>
                        </motion.div>
                    </header>

                    {/* Stats Bar */}
                    <div className="container mx-auto px-6 mb-8">
                        <motion.div 
                            initial={{ opacity: 0, y: 20 }}
                            animate={{ opacity: 1, y: 0 }}
                            transition={{ delay: 0.2 }}
                            className="glass rounded-2xl p-6"
                        >
                            <div className="grid grid-cols-4 gap-6 text-center">
                                {[
                                    { label: 'Characters Created', value: STATS.characters, icon: 'üë§' },
                                    { label: 'Worlds Built', value: STATS.worlds, icon: 'üåç' },
                                    { label: 'Spells Cast', value: STATS.spells, icon: '‚ú®' },
                                    { label: 'Active Agents', value: STATS.agents, icon: 'üßô' }
                                ].map((stat, i) => (
                                    <motion.div
                                        key={stat.label}
                                        initial={{ opacity: 0, scale: 0.8 }}
                                        animate={{ opacity: 1, scale: 1 }}
                                        transition={{ delay: 0.3 + i * 0.1 }}
                                    >
                                        <div className="text-4xl mb-2">{stat.icon}</div>
                                        <div className="text-3xl font-bold text-white">{stat.value}</div>
                                        <div className="text-sm text-gray-400">{stat.label}</div>
                                    </motion.div>
                                ))}
                            </div>
                        </motion.div>
                    </div>

                    {/* Guardian Selection */}
                    <div className="container mx-auto px-6 mb-8">
                        <motion.div 
                            initial={{ opacity: 0, y: 20 }}
                            animate={{ opacity: 1, y: 0 }}
                            transition={{ delay: 0.4 }}
                            className="glass rounded-2xl p-8"
                        >
                            <h2 className="text-2xl font-cinzel font-bold text-center mb-6">
                                Choose Your Guardian Guide
                            </h2>
                            <div className="flex justify-center gap-4 flex-wrap">
                                {GUARDIANS.map((guardian, i) => (
                                    <motion.button
                                        key={guardian.id}
                                        initial={{ opacity: 0, y: 20 }}
                                        animate={{ opacity: 1, y: 0 }}
                                        transition={{ delay: 0.5 + i * 0.1 }}
                                        whileHover={{ scale: 1.05, y: -5 }}
                                        whileTap={{ scale: 0.95 }}
                                        onClick={() => setSelectedGuardian(
                                            selectedGuardian === guardian.id ? null : guardian.id
                                        )}
                                        className={`p-6 rounded-xl border-2 transition-all text-center ${
                                            selectedGuardian === guardian.id
                                                ? 'border-orange-500 bg-orange-500/20'
                                                : 'border-gray-700 hover:border-gray-500'
                                        }`}
                                        style={{ '--element-color': guardian.color }}
                                    >
                                        <div className="text-4xl mb-3">{guardian.symbol}</div>
                                        <div className="font-cinzel font-bold text-lg text-white">
                                            {guardian.name}
                                        </div>
                                        <div className="text-sm text-gray-400">{guardian.specialty}</div>
                                    </motion.button>
                                ))}
                            </div>
                        </motion.div>
                    </div>

                    {/* Navigation Tabs */}
                    <div className="container mx-auto px-6 mb-6">
                        <div className="glass rounded-xl p-2 flex justify-center gap-2">
                            {['spells', 'characters', 'worlds', 'agents'].map((tab, i) => (
                                <button
                                    key={tab}
                                    onClick={() => setActiveTab(tab)}
                                    className={`tab-button px-8 py-3 rounded-lg font-medium capitalize transition-all ${
                                        activeTab === tab ? 'active' : 'text-gray-400 hover:text-white'
                                    }`}
                                >
                                    {tab}
                                </button>
                            ))}
                        </div>
                    </div>

                    {/* Content Grid */}
                    <div className="container mx-auto px-6 pb-16">
                        <motion.div 
                            key={activeTab}
                            initial={{ opacity: 0, y: 20 }}
                            animate={{ opacity: 1, y: 0 }}
                            exit={{ opacity: 0, y: -20 }}
                            className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"
                        >
                            {activeTab === 'spells' && filteredSpells.map((spell, i) => (
                                <SpellCard key={spell.id} spell={spell} onCast={castSpell} index={i} />
                            ))}
                            
                            {activeTab === 'characters' && (
                                <>
                                    {['Kira Vance', 'Theron Flame', 'Lyra Nightshade'].map((name, i) => (
                                        <CharacterCard key={name} name={name} index={i} />
                                    ))}
                                </>
                            )}
                            
                            {activeTab === 'worlds' && (
                                <>
                                    {['Venus Floating Cities', 'Crystal Realms', 'Shadow Nexus'].map((name, i) => (
                                        <WorldCard key={name} name={name} index={i} />
                                    ))}
                                </>
                            )}
                            
                            {activeTab === 'agents' && GUARDIANS.map((guardian, i) => (
                                <AgentCard key={guardian.id} guardian={guardian} index={i} />
                            ))}
                        </motion.div>
                    </div>

                    {/* Spell Casting Modal */}
                    <AnimatePresence>
                        {showSpellModal && selectedSpell && (
                            <motion.div
                                initial={{ opacity: 0 }}
                                animate={{ opacity: 1 }}
                                exit={{ opacity: 0 }}
                                className="fixed inset-0 bg-black/90 backdrop-blur-sm z-50 flex items-center justify-center p-6"
                                onClick={() => setShowSpellModal(false)}
                            >
                                <motion.div
                                    initial={{ scale: 0.8, opacity: 0 }}
                                    animate={{ scale: 1, opacity: 1 }}
                                    exit={{ scale: 0.8, opacity: 0 }}
                                    onClick={e => e.stopPropagation()}
                                    className="glass rounded-3xl max-w-lg w-full p-8 border border-gray-700"
                                >
                                    <div className="text-center">
                                        <motion.div 
                                            animate={{ rotate: isCasting ? 360 : 0 }}
                                            transition={{ duration: isCasting ? 2 : 0, repeat: isCasting ? Infinity : 0 }}
                                            className="text-6xl mb-6 mx-auto w-24 h-24 flex items-center justify-center rounded-full bg-gradient-to-r from-orange-500 to-purple-600"
                                        >
                                            {selectedSpell.icon}
                                        </motion.div>
                                        
                                        <h2 className="text-3xl font-cinzel font-bold text-white mb-2">
                                            {selectedSpell.name}
                                        </h2>
                                        <p className="text-gray-400 mb-6">
                                            Channeling {selectedGuardian || 'collective'} energy...
                                        </p>
                                        
                                        <div className="progress-bar mb-4">
                                            <motion.div 
                                                className="progress-fill"
                                                style={{ width: `${spellProgress}%` }}
                                            />
                                        </div>
                                        
                                        <div className="text-sm text-gray-500 mb-6">
                                            {Math.round(spellProgress)}% Complete
                                        </div>
                                        
                                        {spellProgress >= 100 && (
                                            <motion.div
                                                initial={{ opacity: 0, y: 20 }}
                                                animate={{ opacity: 1, y: 0 }}
                                                className="p-4 bg-green-500/20 border border-green-500/50 rounded-xl"
                                            >
                                                <div className="text-green-400 font-medium">
                                                    ‚ú® Spell Successfully Cast!
                                                </div>
                                                <div className="text-sm text-gray-400 mt-2">
                                                    Your magical request has been processed by the Arcanea collective.
                                                </div>
                                            </motion.div>
                                        )}
                                        
                                        <button
                                            onClick={() => setShowSpellModal(false)}
                                            className="mt-6 px-8 py-3 bg-gradient-to-r from-orange-500 to-purple-600 rounded-xl font-medium hover:opacity-90 transition-opacity"
                                        >
                                            Close
                                        </button>
                                    </div>
                                </motion.div>
                            </motion.div>
                        )}
                    </AnimatePresence>

                    {/* Footer */}
                    <footer className="container mx-auto px-6 py-8 text-center text-gray-500 text-sm">
                        <p>Arcanea Creative Ecosystem v2.0</p>
                        <p className="mt-2">Powered by 38 Specialized Guardian Agents</p>
                    </footer>
                </div>
            );
        }

        // === CARD COMPONENTS ===
        function SpellCard({ spell, onCast, index }) {
            const guardian = GUARDIANS.find(g => g.id === spell.guardian);
            
            return (
                <motion.div
                    initial={{ opacity: 0, y: 30 }}
                    animate={{ opacity: 1, y: 0 }}
                    transition={{ delay: index * 0.1 }}
                    whileHover={{ scale: 1.02, y: -5 }}
                    onClick={() => onCast(spell)}
                    className="glass rounded-2xl p-6 cursor-pointer spell-card"
                >
                    <div className="flex items-start justify-between mb-4">
                        <div className="text-4xl">{spell.icon}</div>
                        <div 
                            className="w-3 h-3 rounded-full"
                            style={{ background: guardian?.color }}
                        />
                    </div>
                    <h3 className="text-xl font-bold text-white mb-2">{spell.name}</h3>
                    <p className="text-gray-400 text-sm mb-4">{spell.description}</p>
                    <div className="flex items-center justify-between">
                        <span 
                            className="text-xs px-3 py-1 rounded-full"
                            style={{ 
                                background: `${guardian?.color}20`,
                                color: guardian?.color 
                            }}
                        >
                            {guardian?.name}
                        </span>
                        <span className="text-orange-500 text-sm">Cast ‚Üí</span>
                    </div>
                </motion.div>
            );
        }

        function CharacterCard({ name, index }) {
            const archetypes = ['Storm Seeker', 'Fire Dancer', 'Shadow Weaver'];
            const roles = ['Rogue Harvester', 'Festival Performer', 'Mysterious Spy'];
            
            return (
                <motion.div
                    initial={{ opacity: 0, y: 30 }}
                    animate={{ opacity: 1, y: 0 }}
                    transition={{ delay: index * 0.1 }}
                    className="glass rounded-2xl p-6"
                >
                    <div className="flex items-center gap-4 mb-4">
                        <div className="w-16 h-16 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-2xl">
                            üë§
                        </div>
                        <div>
                            <h3 className="text-lg font-bold text-white">{name}</h3>
                            <p className="text-sm text-purple-400">{archetypes[index]}</p>
                        </div>
                    </div>
                    <p className="text-gray-400 text-sm mb-4">{roles[index]} with unique abilities and complex motivations.</p>
                    <div className="flex flex-wrap gap-2">
                        {['determined', 'resourceful', 'mysterious'].map(trait => (
                            <span key={trait} className="text-xs px-2 py-1 bg-gray-700 rounded-full">{trait}</span>
                        ))}
                    </div>
                </motion.div>
            );
        }

        function WorldCard({ name, index }) {
            const elements = [['plasma', 'storm'], ['crystal', 'light'], ['shadow', 'void']];
            const descriptions = [
                'Cities float above toxic clouds',
                'World made of living crystals',
                'Light and darkness blend seamlessly'
            ];
            
            return (
                <motion.div
                    initial={{ opacity: 0, y: 30 }}
                    animate={{ opacity: 1, y: 0 }}
                    transition={{ delay: index * 0.1 }}
                    className="glass rounded-2xl p-6"
                >
                    <div className="flex items-center gap-4 mb-4">
                        <div className="w-16 h-16 rounded-full bg-gradient-to-br from-green-500 to-emerald-500 flex items-center justify-center text-2xl">
                            üåç
                        </div>
                        <div>
                            <h3 className="text-lg font-bold text-white">{name}</h3>
                            <p className="text-sm text-green-400">{elements[index].join(' + ')}</p>
                        </div>
                    </div>
                    <p className="text-gray-400 text-sm mb-4">{descriptions[index]}</p>
                    <div className="flex flex-wrap gap-2">
                        {elements[index].map(el => (
                            <span key={el} className="text-xs px-2 py-1 bg-green-500/20 text-green-400 rounded-full">{el}</span>
                        ))}
                    </div>
                </motion.div>
            );
        }

        function AgentCard({ guardian, index }) {
            return (
                <motion.div
                    initial={{ opacity: 0, y: 30 }}
                    animate={{ opacity: 1, y: 0 }}
                    transition={{ delay: index * 0.1 }}
                    whileHover={{ scale: 1.02 }}
                    className="glass rounded-2xl p-6"
                >
                    <div className="flex items-center gap-4 mb-4">
                        <div 
                            className="w-16 h-16 rounded-full flex items-center justify-center text-2xl"
                            style={{ 
                                background: `radial-gradient(circle at 30% 30%, ${guardian.color}, transparent)`,
                                boxShadow: `0 0 30px ${guardian.color}40`
                            }}
                        >
                            {guardian.symbol}
                        </div>
                        <div>
                            <h3 className="text-lg font-bold text-white">{guardian.name}</h3>
                            <p className="text-sm text-gray-400">{guardian.specialty}</p>
                        </div>
                    </div>
                    <div className="text-center">
                        <span className="text-4xl rune">{guardian.rune}</span>
                    </div>
                    <div className="mt-4 flex flex-wrap gap-2">
                        {['Transformation', 'Emotion', 'Structure'].slice(0, 2).map(skill => (
                            <span key={skill} className="text-xs px-2 py-1 bg-gray-700 rounded-full">{skill}</span>
                        ))}
                    </div>
                </motion.div>
            );
        }

        // === RENDER ===
        ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>
</body>
</html>