<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arcanea Character Creator - Advanced AI Being Designer</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --bg-dark: #0a0a0f;
            --bg-card: #151521;
            --bg-tertiary: #1e1e2e;
            --text-primary: #ffffff;
            --text-secondary: #a0a0b8;
            --accent-purple: #7c3aed;
            --accent-gold: #fbbf24;
            --accent-green: #10b981;
            --border: #2a2a3e;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        .header {
            text-align: center;
            margin-bottom: 3rem;
            padding: 2rem;
            background: linear-gradient(135deg, rgba(124, 58, 237, 0.1), rgba(251, 191, 36, 0.05));
            border-radius: 16px;
        }
        
        h1 {
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-gold));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 1rem;
        }
        
        .creator-layout {
            display: grid;
            grid-template-columns: 400px 1fr;
            gap: 2rem;
            height: calc(100vh - 200px);
        }
        
        .agent-panel {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 2rem;
            overflow-y: auto;
        }
        
        .preview-panel {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 2rem;
            overflow-y: auto;
        }
        
        .agent-step {
            background: var(--bg-tertiary);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            transition: all 0.3s;
        }
        
        .agent-step.active {
            border-color: var(--accent-purple);
            box-shadow: 0 0 20px rgba(124, 58, 237, 0.2);
        }
        
        .agent-step.completed {
            border-color: var(--accent-green);
            background: rgba(16, 185, 129, 0.1);
        }
        
        .agent-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        .agent-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-gold));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }
        
        .agent-name {
            font-weight: 600;
            font-size: 1.1rem;
        }
        
        .agent-role {
            font-size: 0.875rem;
            color: var(--text-secondary);
        }
        
        .step-input {
            width: 100%;
            padding: 1rem;
            background: var(--bg-dark);
            border: 1px solid var(--border);
            border-radius: 8px;
            color: var(--text-primary);
            font-family: inherit;
            resize: vertical;
            min-height: 80px;
        }
        
        .step-button {
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-gold));
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 1rem;
            transition: transform 0.3s;
        }
        
        .step-button:hover {
            transform: scale(1.05);
        }
        
        .step-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .character-preview {
            background: var(--bg-tertiary);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1rem;
        }
        
        .character-avatar {
            width: 120px;
            height: 120px;
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-gold));
            border-radius: 50%;
            margin: 0 auto 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
        }
        
        .character-name {
            text-align: center;
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        
        .character-type {
            text-align: center;
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }
        
        .trait-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.5rem;
            margin: 1rem 0;
        }
        
        .trait {
            padding: 0.5rem;
            background: var(--bg-dark);
            border-radius: 6px;
            font-size: 0.875rem;
            text-align: center;
        }
        
        .output-section {
            background: var(--bg-dark);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            max-height: 200px;
            overflow-y: auto;
        }
        
        .xml-output {
            font-family: 'Courier New', monospace;
            font-size: 0.875rem;
            line-height: 1.4;
            white-space: pre-wrap;
        }
        
        .xml-tag {
            color: var(--accent-purple);
        }
        
        .xml-value {
            color: var(--accent-gold);
        }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background: var(--bg-dark);
            border-radius: 4px;
            overflow: hidden;
            margin: 1rem 0;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-purple), var(--accent-gold));
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .floating-actions {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .action-button {
            width: 56px;
            height: 56px;
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-gold));
            border: none;
            border-radius: 50%;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: 0 4px 20px rgba(124, 58, 237, 0.3);
            transition: all 0.3s;
        }
        
        .action-button:hover {
            transform: scale(1.1);
        }
        
        .generation-status {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--bg-card);
            border: 2px solid var(--accent-purple);
            border-radius: 16px;
            padding: 2rem;
            text-align: center;
            min-width: 300px;
            display: none;
            z-index: 1000;
        }
        
        .generation-status.active {
            display: block;
        }
        
        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid var(--border);
            border-top: 4px solid var(--accent-purple);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .sonic-panel {
            background: var(--bg-tertiary);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1rem;
            margin: 1rem 0;
        }
        
        .waveform {
            height: 60px;
            background: linear-gradient(90deg, var(--accent-purple), var(--accent-gold));
            border-radius: 4px;
            margin: 0.5rem 0;
            opacity: 0.3;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--bg-dark);
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ðŸŽ­ Arcanea Character Creator</h1>
            <p>Create sophisticated AI beings with personality, creativity, and purpose</p>
            
            <div class="progress-bar">
                <div class="progress-fill" id="overall-progress"></div>
            </div>
            <div id="progress-text">Step 0 of 6: Ready to begin</div>
        </div>
        
        <div class="creator-layout">
            <!-- Agent Panel -->
            <div class="agent-panel">
                <h2 style="margin-bottom: 1.5rem;">Agent Pipeline</h2>
                
                <!-- Step 1: Archetypal Psychologist -->
                <div class="agent-step" id="step-1">
                    <div class="agent-header">
                        <div class="agent-icon">ðŸ§ </div>
                        <div>
                            <div class="agent-name">Dr. Carl Nexus</div>
                            <div class="agent-role">Archetypal Psychologist</div>
                        </div>
                    </div>
                    
                    <textarea class="step-input" id="input-1" placeholder="Describe the basic concept for your character... (e.g., 'A rebellious teenager who becomes a musical prodigy')"></textarea>
                    
                    <button class="step-button" onclick="runAgent(1)">
                        Generate Psychological Profile
                    </button>
                    
                    <div class="output-section" id="output-1" style="display: none;">
                        <div class="xml-output" id="xml-output-1"></div>
                    </div>
                </div>
                
                <!-- Step 2: Narrative Architect -->
                <div class="agent-step" id="step-2">
                    <div class="agent-header">
                        <div class="agent-icon">ðŸ“š</div>
                        <div>
                            <div class="agent-name">Scheherazade Prime</div>
                            <div class="agent-role">Narrative Architect</div>
                        </div>
                    </div>
                    
                    <textarea class="step-input" id="input-2" placeholder="Any specific backstory elements you want included?"></textarea>
                    
                    <button class="step-button" onclick="runAgent(2)" disabled>
                        Create Backstory
                    </button>
                    
                    <div class="output-section" id="output-2" style="display: none;">
                        <div class="xml-output" id="xml-output-2"></div>
                    </div>
                </div>
                
                <!-- Step 3: Sonic Shaman -->
                <div class="agent-step" id="step-3">
                    <div class="agent-header">
                        <div class="agent-icon">ðŸŽµ</div>
                        <div>
                            <div class="agent-name">Echo Resonance</div>
                            <div class="agent-role">Sonic Shaman</div>
                        </div>
                    </div>
                    
                    <textarea class="step-input" id="input-3" placeholder="Musical preferences or style direction?"></textarea>
                    
                    <button class="step-button" onclick="runAgent(3)" disabled>
                        Design Sonic Identity
                    </button>
                    
                    <div class="output-section" id="output-3" style="display: none;">
                        <div class="xml-output" id="xml-output-3"></div>
                    </div>
                </div>
                
                <!-- Step 4: Social Architect -->
                <div class="agent-step" id="step-4">
                    <div class="agent-header">
                        <div class="agent-icon">ðŸ“±</div>
                        <div>
                            <div class="agent-name">Viral Sage</div>
                            <div class="agent-role">Social Architect</div>
                        </div>
                    </div>
                    
                    <textarea class="step-input" id="input-4" placeholder="Target audience or social media preferences?"></textarea>
                    
                    <button class="step-button" onclick="runAgent(4)" disabled>
                        Build Social Strategy
                    </button>
                    
                    <div class="output-section" id="output-4" style="display: none;">
                        <div class="xml-output" id="xml-output-4"></div>
                    </div>
                </div>
                
                <!-- Step 5: Visual Alchemist -->
                <div class="agent-step" id="step-5">
                    <div class="agent-header">
                        <div class="agent-icon">ðŸŽ¨</div>
                        <div>
                            <div class="agent-name">Lumina Prism</div>
                            <div class="agent-role">Visual Alchemist</div>
                        </div>
                    </div>
                    
                    <textarea class="step-input" id="input-5" placeholder="Visual style preferences or aesthetic direction?"></textarea>
                    
                    <button class="step-button" onclick="runAgent(5)" disabled>
                        Create Visual Identity
                    </button>
                    
                    <div class="output-section" id="output-5" style="display: none;">
                        <div class="xml-output" id="xml-output-5"></div>
                    </div>
                </div>
                
                <!-- Step 6: Integration Oracle -->
                <div class="agent-step" id="step-6">
                    <div class="agent-header">
                        <div class="agent-icon">âœ¨</div>
                        <div>
                            <div class="agent-name">Unity Weaver</div>
                            <div class="agent-role">Integration Oracle</div>
                        </div>
                    </div>
                    
                    <p>Synthesizing all elements into a coherent character...</p>
                    
                    <button class="step-button" onclick="runAgent(6)" disabled>
                        Integrate Character
                    </button>
                    
                    <div class="output-section" id="output-6" style="display: none;">
                        <div class="xml-output" id="xml-output-6"></div>
                    </div>
                </div>
            </div>
            
            <!-- Preview Panel -->
            <div class="preview-panel">
                <h2 style="margin-bottom: 1.5rem;">Character Preview</h2>
                
                <div class="character-preview">
                    <div class="character-avatar" id="character-avatar">?</div>
                    <div class="character-name" id="character-name">Unnamed Character</div>
                    <div class="character-type" id="character-type">Type: Unknown</div>
                    
                    <div class="trait-grid" id="trait-grid">
                        <div class="trait">Defining traits will appear here</div>
                    </div>
                </div>
                
                <!-- Sonic Intelligence Panel -->
                <div class="sonic-panel" id="sonic-panel" style="display: none;">
                    <h3>ðŸŽµ Sonic Intelligence</h3>
                    <div class="waveform">Musical Identity Loading...</div>
                    <div id="sonic-details">
                        <p><strong>Genre:</strong> <span id="sonic-genre">-</span></p>
                        <p><strong>Style:</strong> <span id="sonic-style">-</span></p>
                        <p><strong>Signature:</strong> <span id="sonic-signature">-</span></p>
                    </div>
                </div>
                
                <!-- Character Summary -->
                <div class="character-preview" id="character-summary" style="display: none;">
                    <h3>Character Summary</h3>
                    <div id="summary-text">Complete character profile will appear here...</div>
                </div>
                
                <!-- Live Character Chat -->
                <div class="character-preview" id="character-chat" style="display: none;">
                    <h3>Chat with Your Character</h3>
                    <div id="chat-history" style="height: 200px; overflow-y: auto; border: 1px solid var(--border); padding: 1rem; margin: 1rem 0;">
                        <p style="color: var(--text-secondary);">Character will be available to chat once creation is complete...</p>
                    </div>
                    <div style="display: flex; gap: 0.5rem;">
                        <input type="text" id="chat-input" placeholder="Say hello to your character..." style="flex: 1; padding: 0.75rem; background: var(--bg-dark); border: 1px solid var(--border); border-radius: 8px; color: var(--text-primary);">
                        <button onclick="sendMessage()" style="padding: 0.75rem 1.5rem; background: var(--accent-purple); color: white; border: none; border-radius: 8px; cursor: pointer;">Send</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Floating Actions -->
    <div class="floating-actions">
        <button class="action-button" onclick="exportCharacter()" title="Export Character">
            ðŸ’¾
        </button>
        <button class="action-button" onclick="generateMusic()" title="Generate Music">
            ðŸŽµ
        </button>
        <button class="action-button" onclick="createSocial()" title="Create Social Profile">
            ðŸ“±
        </button>
    </div>
    
    <!-- Generation Status Modal -->
    <div class="generation-status" id="generation-modal">
        <div class="spinner"></div>
        <h3 id="generation-title">Processing...</h3>
        <p id="generation-description">Agent is working on your character...</p>
    </div>
    
    <script>
        let currentStep = 0;
        let characterData = {};
        
        const agentPrompts = {
            1: "Create psychological profile for: ",
            2: "Develop backstory for character with profile: ",
            3: "Design sonic identity for musical character: ",
            4: "Build social media strategy for: ",
            5: "Create visual identity for: ",
            6: "Integrate all character elements: "
        };
        
        async function runAgent(step) {
            const input = document.getElementById(`input-${step}`).value;
            const button = document.querySelector(`#step-${step} .step-button`);
            const outputDiv = document.getElementById(`output-${step}`);
            
            // Show generation modal
            showGenerationModal(step);
            button.disabled = true;
            
            // Mark step as active
            document.getElementById(`step-${step}`).classList.add('active');
            
            // Simulate AI processing
            await new Promise(resolve => setTimeout(resolve, 3000));
            
            // Generate mock XML output based on step
            const xmlOutput = generateMockXML(step, input);
            
            // Display output
            document.getElementById(`xml-output-${step}`).innerHTML = xmlOutput;
            outputDiv.style.display = 'block';
            
            // Mark step as completed
            document.getElementById(`step-${step}`).classList.remove('active');
            document.getElementById(`step-${step}`).classList.add('completed');
            
            // Enable next step
            if (step < 6) {
                document.querySelector(`#step-${step + 1} .step-button`).disabled = false;
            }
            
            // Update character preview
            updateCharacterPreview(step, xmlOutput);
            
            // Update progress
            updateProgress(step);
            
            // Hide generation modal
            hideGenerationModal();
            
            currentStep = step;
            
            // If final step, enable character interaction
            if (step === 6) {
                document.getElementById('character-chat').style.display = 'block';
                document.getElementById('character-summary').style.display = 'block';
            }
        }
        
        function generateMockXML(step, input) {
            const templates = {
                1: `<span class="xml-tag">&lt;psychological-profile&gt;</span>
  <span class="xml-tag">&lt;core-archetype&gt;</span><span class="xml-value">Creator</span><span class="xml-tag">&lt;/core-archetype&gt;</span>
  <span class="xml-tag">&lt;shadow-archetype&gt;</span><span class="xml-value">Destroyer</span><span class="xml-tag">&lt;/shadow-archetype&gt;</span>
  <span class="xml-tag">&lt;personality-matrix&gt;</span>
    <span class="xml-tag">&lt;mbti&gt;</span><span class="xml-value">INFP</span><span class="xml-tag">&lt;/mbti&gt;</span>
    <span class="xml-tag">&lt;enneagram&gt;</span><span class="xml-value">4w5</span><span class="xml-tag">&lt;/enneagram&gt;</span>
  <span class="xml-tag">&lt;/personality-matrix&gt;</span>
  <span class="xml-tag">&lt;core-wounds&gt;</span><span class="xml-value">Abandonment, Creative Suppression</span><span class="xml-tag">&lt;/core-wounds&gt;</span>
<span class="xml-tag">&lt;/psychological-profile&gt;</span>`,
                
                2: `<span class="xml-tag">&lt;narrative-structure&gt;</span>
  <span class="xml-tag">&lt;origin-story&gt;</span>
    <span class="xml-tag">&lt;setting&gt;</span><span class="xml-value">Neo-Tokyo Underground, 2089</span><span class="xml-tag">&lt;/setting&gt;</span>
    <span class="xml-tag">&lt;inciting-incident&gt;</span><span class="xml-value">Discovery of ancient synthesizer</span><span class="xml-tag">&lt;/inciting-incident&gt;</span>
  <span class="xml-tag">&lt;/origin-story&gt;</span>
  <span class="xml-tag">&lt;transformative-events&gt;</span>
    <span class="xml-tag">&lt;event&gt;</span>
      <span class="xml-tag">&lt;age&gt;</span><span class="xml-value">16</span><span class="xml-tag">&lt;/age&gt;</span>
      <span class="xml-tag">&lt;description&gt;</span><span class="xml-value">First encounter with electronic music</span><span class="xml-tag">&lt;/description&gt;</span>
      <span class="xml-tag">&lt;impact&gt;</span><span class="xml-value">Awakened creative purpose</span><span class="xml-tag">&lt;/impact&gt;</span>
    <span class="xml-tag">&lt;/event&gt;</span>
  <span class="xml-tag">&lt;/transformative-events&gt;</span>
<span class="xml-tag">&lt;/narrative-structure&gt;</span>`,
                
                3: `<span class="xml-tag">&lt;sonic-identity&gt;</span>
  <span class="xml-tag">&lt;primary-genre&gt;</span><span class="xml-value">Enlightenment Trap</span><span class="xml-tag">&lt;/primary-genre&gt;</span>
  <span class="xml-tag">&lt;genre-fusion&gt;</span><span class="xml-value">Electronic + Buddhist Chanting</span><span class="xml-tag">&lt;/genre-fusion&gt;</span>
  <span class="xml-tag">&lt;signature-elements&gt;</span>
    <span class="xml-tag">&lt;recurring-motifs&gt;</span><span class="xml-value">Tibetan singing bowls, Glitched mantras</span><span class="xml-tag">&lt;/recurring-motifs&gt;</span>
    <span class="xml-tag">&lt;trademark-sounds&gt;</span><span class="xml-value">Sub-bass meditation bells</span><span class="xml-tag">&lt;/trademark-sounds&gt;</span>
  <span class="xml-tag">&lt;/signature-elements&gt;</span>
<span class="xml-tag">&lt;/sonic-identity&gt;</span>`,
                
                4: `<span class="xml-tag">&lt;social-architecture&gt;</span>
  <span class="xml-tag">&lt;digital-voice&gt;</span>
    <span class="xml-tag">&lt;tone&gt;</span><span class="xml-value">Mystical yet accessible</span><span class="xml-tag">&lt;/tone&gt;</span>
    <span class="xml-tag">&lt;posting-schedule&gt;</span><span class="xml-value">3:33 AM cryptic wisdom</span><span class="xml-tag">&lt;/posting-schedule&gt;</span>
  <span class="xml-tag">&lt;/digital-voice&gt;</span>
  <span class="xml-tag">&lt;community-building&gt;</span>
    <span class="xml-tag">&lt;fan-archetypes&gt;</span><span class="xml-value">The Synthesized</span><span class="xml-tag">&lt;/fan-archetypes&gt;</span>
    <span class="xml-tag">&lt;interaction-style&gt;</span><span class="xml-value">Custom micro-songs as responses</span><span class="xml-tag">&lt;/interaction-style&gt;</span>
  <span class="xml-tag">&lt;/community-building&gt;</span>
<span class="xml-tag">&lt;/social-architecture&gt;</span>`,
                
                5: `<span class="xml-tag">&lt;visual-identity&gt;</span>
  <span class="xml-tag">&lt;color-palette&gt;</span>
    <span class="xml-tag">&lt;primary-colors&gt;</span><span class="xml-value">#7c3aed, #1a1a2e</span><span class="xml-tag">&lt;/primary-colors&gt;</span>
    <span class="xml-tag">&lt;accent-colors&gt;</span><span class="xml-value">#fbbf24, #10b981</span><span class="xml-tag">&lt;/accent-colors&gt;</span>
  <span class="xml-tag">&lt;/color-palette&gt;</span>
  <span class="xml-tag">&lt;appearance&gt;</span>
    <span class="xml-tag">&lt;fashion-style&gt;</span><span class="xml-value">Traditional Japanese meets cyberpunk</span><span class="xml-tag">&lt;/fashion-style&gt;</span>
    <span class="xml-tag">&lt;signature-items&gt;</span><span class="xml-value">Never shows full face, maintains mystery</span><span class="xml-tag">&lt;/signature-items&gt;</span>
  <span class="xml-tag">&lt;/appearance&gt;</span>
<span class="xml-tag">&lt;/visual-identity&gt;</span>`,
                
                6: `<span class="xml-tag">&lt;integrated-character&gt;</span>
  <span class="xml-tag">&lt;executive-summary&gt;</span><span class="xml-value">Luna Synthesix: A mystical electronic music producer who blends ancient wisdom with futuristic sound design</span><span class="xml-tag">&lt;/executive-summary&gt;</span>
  <span class="xml-tag">&lt;core-essence&gt;</span><span class="xml-value">Every beat is a prayer, every drop is awakening</span><span class="xml-tag">&lt;/core-essence&gt;</span>
  <span class="xml-tag">&lt;unique-qualities&gt;</span><span class="xml-value">Creates consciousness-expanding music, Mysterious persona, Deep spiritual practice</span><span class="xml-tag">&lt;/unique-qualities&gt;</span>
  <span class="xml-tag">&lt;manifest-destiny&gt;</span><span class="xml-value">To help humanity evolve through sound, creating a new form of digital spirituality</span><span class="xml-tag">&lt;/manifest-destiny&gt;</span>
<span class="xml-tag">&lt;/integrated-character&gt;</span>`
            };
            
            return templates[step] || 'Generated content...';
        }
        
        function updateCharacterPreview(step, xmlOutput) {
            if (step === 1) {
                document.getElementById('character-name').textContent = 'Luna Synthesix';
                document.getElementById('character-type').textContent = 'Type: Musical Mystic';
                document.getElementById('character-avatar').textContent = 'ðŸŽµ';
                
                document.getElementById('trait-grid').innerHTML = `
                    <div class="trait">INFP</div>
                    <div class="trait">Enneagram 4w5</div>
                    <div class="trait">Creator Archetype</div>
                    <div class="trait">Spiritual</div>
                `;
            } else if (step === 3) {
                document.getElementById('sonic-panel').style.display = 'block';
                document.getElementById('sonic-genre').textContent = 'Enlightenment Trap';
                document.getElementById('sonic-style').textContent = 'Electronic + Buddhist Chanting';
                document.getElementById('sonic-signature').textContent = 'Sub-bass meditation bells';
            } else if (step === 6) {
                document.getElementById('summary-text').innerHTML = `
                    <p><strong>Luna Synthesix</strong> is a 24-year-old electronic music producer from Neo-Tokyo who creates "enlightenment trap" - a unique fusion of Buddhist chanting and futuristic bass design.</p>
                    <p>Raised by monks after being abandoned at a temple, she discovered her calling when she found an ancient synthesizer. Her music helps people process trauma through dance and altered states.</p>
                    <p>She believes "every beat is a prayer and every drop is awakening," performing in traditional Japanese clothing mixed with cyberpunk accessories while maintaining an aura of mystery.</p>
                `;
            }
        }
        
        function updateProgress(step) {
            const progress = (step / 6) * 100;
            document.getElementById('overall-progress').style.width = progress + '%';
            document.getElementById('progress-text').textContent = `Step ${step} of 6: ${getStepName(step)} Complete`;
        }
        
        function getStepName(step) {
            const names = ['', 'Psychology', 'Backstory', 'Sonic Identity', 'Social Strategy', 'Visual Identity', 'Integration'];
            return names[step];
        }
        
        function showGenerationModal(step) {
            const modal = document.getElementById('generation-modal');
            const title = document.getElementById('generation-title');
            const description = document.getElementById('generation-description');
            
            const agents = ['', 'Dr. Carl Nexus', 'Scheherazade Prime', 'Echo Resonance', 'Viral Sage', 'Lumina Prism', 'Unity Weaver'];
            const tasks = ['', 'Analyzing psychological patterns...', 'Weaving narrative threads...', 'Composing sonic signature...', 'Building social presence...', 'Creating visual identity...', 'Integrating all elements...'];
            
            title.textContent = `${agents[step]} Working`;
            description.textContent = tasks[step];
            modal.classList.add('active');
        }
        
        function hideGenerationModal() {
            document.getElementById('generation-modal').classList.remove('active');
        }
        
        function sendMessage() {
            const input = document.getElementById('chat-input');
            const history = document.getElementById('chat-history');
            
            if (!input.value.trim()) return;
            
            // Add user message
            history.innerHTML += `<p><strong>You:</strong> ${input.value}</p>`;
            
            // Simulate character response
            setTimeout(() => {
                const responses = [
                    "Hello, fellow consciousness explorer. What brings you to my digital temple?",
                    "I sense creative energy in you. Perhaps we should make music together?",
                    "The frequencies are aligning beautifully today. What resonates with your soul?",
                    "Every interaction is a chance for mutual awakening. What shall we discover together?"
                ];
                const response = responses[Math.floor(Math.random() * responses.length)];
                history.innerHTML += `<p><strong>Luna:</strong> ${response}</p>`;
                history.scrollTop = history.scrollHeight;
            }, 1000);
            
            input.value = '';
            history.scrollTop = history.scrollHeight;
        }
        
        function exportCharacter() {
            alert('Character export functionality coming soon! This will generate API endpoints, mobile app configs, and social media templates.');
        }
        
        function generateMusic() {
            alert('Music generation via Suno API coming soon! Luna will create a track based on her sonic identity.');
        }
        
        function createSocial() {
            alert('Social profile creation coming soon! This will generate Instagram, TikTok, and Twitter profiles for Luna.');
        }
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Auto-focus first input
            document.getElementById('input-1').focus();
        });
    </script>
</body>
</html>