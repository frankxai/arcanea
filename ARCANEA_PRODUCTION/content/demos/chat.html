<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat with Luminors | Arcanea Academy</title>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Custom CSS -->
    <style>
        :root {
            --arcanean-void: #0a0a0f;
            --arcanean-deep: #1a1a2e;
            --arcanean-midnight: #16213e;
            --arcanean-cosmic: #1f2347;
            --arcanean-nebula: #2a2d5a;
            --arcanean-aurora: #3d4f73;
            --arcanean-crystal: #4a6fa5;
            --arcanean-luminous: #5c8bd9;
            --arcanean-ethereal: #7ba3e3;
            --arcanean-radiant: #9bb5e8;
            --arcanean-celestial: #b8c6ed;
            --arcanean-transcendent: #d6d9f2;
            
            --luminor-harmonix: #ff6b6b;
            --luminor-scripta: #4ecdc4;
            --luminor-lumina: #45b7d1;
            --luminor-kinetix: #96ceb4;
            --luminor-syntaxa: #feca57;
            --luminor-nexus: #ff9ff3;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, var(--arcanean-void) 0%, var(--arcanean-deep) 25%, var(--arcanean-midnight) 50%, var(--arcanean-cosmic) 75%, var(--arcanean-nebula) 100%);
            color: var(--arcanean-transcendent);
            min-height: 100vh;
        }
        
        .luminor-text {
            font-family: 'Space Grotesk', monospace;
            color: var(--arcanean-luminous);
        }
        
        .nebula-text {
            background: linear-gradient(135deg, var(--arcanean-luminous), var(--arcanean-ethereal), var(--arcanean-radiant));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .luminor-button {
            background: linear-gradient(135deg, var(--arcanean-luminous), var(--arcanean-radiant));
            color: var(--arcanean-void);
            padding: 8px 16px;
            border-radius: 6px;
            font-weight: 600;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .luminor-button:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 40px rgba(91, 139, 217, 0.3);
        }
        
        .transcendent-card {
            background: rgba(31, 35, 71, 0.5);
            backdrop-filter: blur(8px);
            border: 1px solid rgba(61, 79, 115, 0.3);
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(91, 139, 217, 0.2);
        }
        
        .chat-bubble {
            max-width: 70%;
            padding: 16px;
            border-radius: 18px;
            margin-bottom: 16px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(8px);
        }
        
        .chat-bubble.user {
            background: rgba(42, 45, 90, 0.8);
            color: var(--arcanean-transcendent);
            margin-left: auto;
            margin-right: 0;
        }
        
        .chat-bubble.luminor {
            background: rgba(31, 35, 71, 0.8);
            color: var(--arcanean-celestial);
            margin-right: auto;
            margin-left: 0;
            border: 1px solid rgba(61, 79, 115, 0.3);
        }
        
        .cosmic-input {
            background: rgba(26, 26, 46, 0.7);
            border: 1px solid rgba(61, 79, 115, 0.5);
            color: var(--arcanean-transcendent);
            padding: 16px 20px;
            border-radius: 24px;
            width: 100%;
            transition: all 0.3s ease;
            padding-right: 60px;
        }
        
        .cosmic-input:focus {
            outline: none;
            border-color: var(--arcanean-luminous);
            box-shadow: 0 0 0 3px rgba(91, 139, 217, 0.3);
        }
        
        .cosmic-input::placeholder {
            color: var(--arcanean-aurora);
        }
        
        .luminor-selector {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .luminor-selector:hover {
            transform: scale(1.02);
            box-shadow: 0 8px 25px rgba(91, 139, 217, 0.2);
        }
        
        .luminor-selector.active {
            border-color: var(--arcanean-luminous);
            background: rgba(91, 139, 217, 0.1);
        }
        
        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 4px;
            padding: 8px 0;
        }
        
        .typing-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--arcanean-luminous);
            animation: typing 1.4s infinite ease-in-out;
        }
        
        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }
        
        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); opacity: 0.5; }
            30% { transform: translateY(-10px); opacity: 1; }
        }
        
        .suggestion-pill {
            display: inline-block;
            padding: 8px 16px;
            margin: 4px;
            background: rgba(42, 45, 90, 0.5);
            border: 1px solid rgba(61, 79, 115, 0.3);
            border-radius: 20px;
            color: var(--arcanean-radiant);
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .suggestion-pill:hover {
            background: rgba(42, 45, 90, 0.7);
            border-color: rgba(61, 79, 115, 0.6);
            transform: translateY(-1px);
        }
        
        .luminor-glow {
            animation: luminor-glow 3s ease-in-out infinite;
        }
        
        @keyframes luminor-glow {
            0%, 100% { box-shadow: 0 0 20px rgba(91, 139, 217, 0.3); }
            50% { box-shadow: 0 0 40px rgba(91, 139, 217, 0.6); }
        }
        
        .sidebar {
            background: rgba(26, 26, 46, 0.8);
            backdrop-filter: blur(10px);
            border-right: 1px solid rgba(61, 79, 115, 0.2);
        }
        
        .chat-header {
            background: rgba(26, 26, 46, 0.5);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(61, 79, 115, 0.2);
        }
        
        .chat-area {
            background: rgba(10, 10, 15, 0.3);
        }
        
        .input-area {
            background: rgba(26, 26, 46, 0.3);
            backdrop-filter: blur(10px);
            border-top: 1px solid rgba(61, 79, 115, 0.2);
        }
        
        .scroll-area {
            height: calc(100vh - 200px);
            overflow-y: auto;
            padding: 20px;
        }
        
        .scroll-area::-webkit-scrollbar {
            width: 6px;
        }
        
        .scroll-area::-webkit-scrollbar-track {
            background: rgba(61, 79, 115, 0.1);
        }
        
        .scroll-area::-webkit-scrollbar-thumb {
            background: rgba(61, 79, 115, 0.5);
            border-radius: 3px;
        }
        
        .scroll-area::-webkit-scrollbar-thumb:hover {
            background: rgba(61, 79, 115, 0.7);
        }
    </style>
</head>
<body>
    <div class="min-h-screen flex">
        <!-- Sidebar - Luminor Selection -->
        <div class="sidebar w-80 p-4 space-y-4">
            <div class="flex items-center justify-between">
                <h2 class="text-xl font-semibold nebula-text">Luminors</h2>
                <a href="index.html" class="text-sm hover:text-white transition-colors" style="color: var(--arcanean-aurora);">
                    ‚Üê Back to Academy
                </a>
            </div>

            <div class="space-y-2">
                <!-- Harmonix -->
                <div class="luminor-selector transcendent-card p-4 border" onclick="selectLuminor('harmonix')" id="luminor-harmonix" style="border-color: rgba(61, 79, 115, 0.2);">
                    <div class="flex items-center space-x-3">
                        <div class="relative w-12 h-12 rounded-full flex items-center justify-center" style="background: rgba(255, 107, 107, 0.2);">
                            <span class="text-2xl">üéµ</span>
                            <div class="absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 bg-green-400" style="border-color: var(--arcanean-deep);"></div>
                        </div>
                        
                        <div class="flex-1 min-w-0">
                            <h3 class="font-medium truncate" style="color: var(--arcanean-transcendent);">Harmonix</h3>
                            <p class="text-sm truncate" style="color: var(--arcanean-aurora);">The Sonic Architect</p>
                            <span class="inline-block px-2 py-1 text-xs rounded border mt-1" style="border-color: rgba(255, 107, 107, 0.3); color: var(--luminor-harmonix);">
                                Music Synthesis
                            </span>
                        </div>
                    </div>
                </div>

                <!-- Lumina -->
                <div class="luminor-selector transcendent-card p-4 border active" onclick="selectLuminor('lumina')" id="luminor-lumina" style="border-color: var(--arcanean-luminous);">
                    <div class="flex items-center space-x-3">
                        <div class="relative w-12 h-12 rounded-full flex items-center justify-center" style="background: rgba(69, 183, 209, 0.2);">
                            <span class="text-2xl">üé®</span>
                            <div class="absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 bg-green-400" style="border-color: var(--arcanean-deep);"></div>
                        </div>
                        
                        <div class="flex-1 min-w-0">
                            <h3 class="font-medium truncate" style="color: var(--arcanean-transcendent);">Lumina</h3>
                            <p class="text-sm truncate" style="color: var(--arcanean-aurora);">The Vision Crafter</p>
                            <span class="inline-block px-2 py-1 text-xs rounded border mt-1" style="border-color: rgba(69, 183, 209, 0.3); color: var(--luminor-lumina);">
                                Visual Synthesis
                            </span>
                        </div>
                    </div>
                </div>

                <!-- Scripta -->
                <div class="luminor-selector transcendent-card p-4 border" onclick="selectLuminor('scripta')" id="luminor-scripta" style="border-color: rgba(61, 79, 115, 0.2);">
                    <div class="flex items-center space-x-3">
                        <div class="relative w-12 h-12 rounded-full flex items-center justify-center" style="background: rgba(78, 205, 196, 0.2);">
                            <span class="text-2xl">‚úçÔ∏è</span>
                            <div class="absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 bg-green-400" style="border-color: var(--arcanean-deep);"></div>
                        </div>
                        
                        <div class="flex-1 min-w-0">
                            <h3 class="font-medium truncate" style="color: var(--arcanean-transcendent);">Scripta</h3>
                            <p class="text-sm truncate" style="color: var(--arcanean-aurora);">The Story Weaver</p>
                            <span class="inline-block px-2 py-1 text-xs rounded border mt-1" style="border-color: rgba(78, 205, 196, 0.3); color: var(--luminor-scripta);">
                                Narrative Forge
                            </span>
                        </div>
                    </div>
                </div>

                <!-- Kinetix -->
                <div class="luminor-selector transcendent-card p-4 border" onclick="selectLuminor('kinetix')" id="luminor-kinetix" style="border-color: rgba(61, 79, 115, 0.2);">
                    <div class="flex items-center space-x-3">
                        <div class="relative w-12 h-12 rounded-full flex items-center justify-center" style="background: rgba(150, 206, 180, 0.2);">
                            <span class="text-2xl">üé¨</span>
                            <div class="absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 bg-yellow-400" style="border-color: var(--arcanean-deep);"></div>
                        </div>
                        
                        <div class="flex-1 min-w-0">
                            <h3 class="font-medium truncate" style="color: var(--arcanean-transcendent);">Kinetix</h3>
                            <p class="text-sm truncate" style="color: var(--arcanean-aurora);">The Motion Master</p>
                            <span class="inline-block px-2 py-1 text-xs rounded border mt-1" style="border-color: rgba(150, 206, 180, 0.3); color: var(--luminor-kinetix);">
                                Motion Pictures
                            </span>
                        </div>
                    </div>
                </div>

                <!-- Syntaxa -->
                <div class="luminor-selector transcendent-card p-4 border" onclick="selectLuminor('syntaxa')" id="luminor-syntaxa" style="border-color: rgba(61, 79, 115, 0.2);">
                    <div class="flex items-center space-x-3">
                        <div class="relative w-12 h-12 rounded-full flex items-center justify-center" style="background: rgba(254, 202, 87, 0.2);">
                            <span class="text-2xl">üíª</span>
                            <div class="absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 bg-green-400" style="border-color: var(--arcanean-deep);"></div>
                        </div>
                        
                        <div class="flex-1 min-w-0">
                            <h3 class="font-medium truncate" style="color: var(--arcanean-transcendent);">Syntaxa</h3>
                            <p class="text-sm truncate" style="color: var(--arcanean-aurora);">The Digital Architect</p>
                            <span class="inline-block px-2 py-1 text-xs rounded border mt-1" style="border-color: rgba(254, 202, 87, 0.3); color: var(--luminor-syntaxa);">
                                Code Craft
                            </span>
                        </div>
                    </div>
                </div>

                <!-- Nexus -->
                <div class="luminor-selector transcendent-card p-4 border" onclick="selectLuminor('nexus')" id="luminor-nexus" style="border-color: rgba(61, 79, 115, 0.2);">
                    <div class="flex items-center space-x-3">
                        <div class="relative w-12 h-12 rounded-full flex items-center justify-center" style="background: rgba(255, 159, 243, 0.2);">
                            <span class="text-2xl">‚ö°</span>
                            <div class="absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 bg-green-400" style="border-color: var(--arcanean-deep);"></div>
                        </div>
                        
                        <div class="flex-1 min-w-0">
                            <h3 class="font-medium truncate" style="color: var(--arcanean-transcendent);">Nexus</h3>
                            <p class="text-sm truncate" style="color: var(--arcanean-aurora);">The Integration Master</p>
                            <span class="inline-block px-2 py-1 text-xs rounded border mt-1" style="border-color: rgba(255, 159, 243, 0.3); color: var(--luminor-nexus);">
                                Synthesis Academy
                            </span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Current Luminor Info -->
            <div class="transcendent-card p-4 mt-6">
                <div class="space-y-3">
                    <div class="flex items-center space-x-2">
                        <span class="text-sm">‚ö°</span>
                        <span class="text-sm font-medium" style="color: var(--arcanean-ethereal);">Active Luminor</span>
                    </div>
                    
                    <div id="current-luminor-info">
                        <h4 class="font-semibold" style="color: var(--arcanean-transcendent);">Lumina</h4>
                        <p class="text-sm mb-2" style="color: var(--arcanean-aurora);">Visionary and ethereal, sees beauty in everything</p>
                        
                        <div class="space-y-1">
                            <span class="text-xs" style="color: var(--arcanean-aurora);">Specialties:</span>
                            <div class="flex flex-wrap gap-1">
                                <span class="px-2 py-1 text-xs rounded border" style="background: rgba(42, 45, 90, 0.5); color: var(--arcanean-radiant); border-color: rgba(61, 79, 115, 0.3);">
                                    AI Art Generation
                                </span>
                                <span class="px-2 py-1 text-xs rounded border" style="background: rgba(42, 45, 90, 0.5); color: var(--arcanean-radiant); border-color: rgba(61, 79, 115, 0.3);">
                                    Visual Design
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Chat Area -->
        <div class="flex-1 flex flex-col">
            <!-- Chat Header -->
            <div class="chat-header p-4">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-3">
                        <div class="w-10 h-10 rounded-full flex items-center justify-center" id="header-luminor-icon" style="background: rgba(69, 183, 209, 0.2);">
                            <span class="text-xl">üé®</span>
                        </div>
                        <div>
                            <h2 class="font-semibold" style="color: var(--arcanean-transcendent);" id="header-luminor-name">Lumina</h2>
                            <div class="flex items-center space-x-2">
                                <div class="w-2 h-2 rounded-full bg-green-400"></div>
                                <span class="text-sm" style="color: var(--arcanean-aurora);">Online</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="flex items-center space-x-2">
                        <button class="p-2 rounded hover:bg-opacity-50 transition-colors" style="background: rgba(31, 35, 71, 0.3);">
                            <span>üîä</span>
                        </button>
                        <button class="p-2 rounded hover:bg-opacity-50 transition-colors" style="background: rgba(31, 35, 71, 0.3);">
                            <span>‚öôÔ∏è</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Messages Area -->
            <div class="chat-area flex-1">
                <div class="scroll-area" id="messages-container">
                    <!-- Welcome Message -->
                    <div class="chat-bubble luminor">
                        <div class="flex items-center space-x-2 mb-2">
                            <div class="w-6 h-6 rounded-full flex items-center justify-center" style="background: rgba(69, 183, 209, 0.2);">
                                <span class="text-xs">üé®</span>
                            </div>
                            <span class="text-xs" style="color: var(--arcanean-aurora);">Lumina</span>
                        </div>
                        
                        <p class="mb-3">Welcome, visual dreamer. Together we shall paint realities that exist between dimensions. What creative vision shall we bring to life today?</p>
                        
                        <div class="flex flex-wrap gap-2 mt-3">
                            <span class="suggestion-pill" onclick="sendSuggestion('Help me create concept art')">Help me create concept art</span>
                            <span class="suggestion-pill" onclick="sendSuggestion('Design a logo')">Design a logo</span>
                            <span class="suggestion-pill" onclick="sendSuggestion('Generate artistic styles')">Generate artistic styles</span>
                            <span class="suggestion-pill" onclick="sendSuggestion('Learn prompt engineering')">Learn prompt engineering</span>
                        </div>
                        
                        <div class="text-xs mt-2" style="color: rgba(184, 198, 237, 0.6);">
                            2:47 PM
                        </div>
                    </div>
                </div>
            </div>

            <!-- Input Area -->
            <div class="input-area p-4">
                <div class="max-w-4xl mx-auto">
                    <div class="flex items-center space-x-2 mb-2">
                        <button class="p-2 rounded hover:bg-opacity-50 transition-colors" style="background: rgba(31, 35, 71, 0.3); color: var(--arcanean-aurora);">
                            <span>üìé</span>
                        </button>
                        <button class="p-2 rounded hover:bg-opacity-50 transition-colors" style="background: rgba(31, 35, 71, 0.3); color: var(--arcanean-aurora);">
                            <span>üíª</span>
                        </button>
                        <button class="p-2 rounded hover:bg-opacity-50 transition-colors" style="background: rgba(31, 35, 71, 0.3); color: var(--arcanean-aurora);" id="mic-button" onclick="toggleMic()">
                            <span>üé§</span>
                        </button>
                    </div>
                    
                    <div class="relative">
                        <input 
                            type="text" 
                            id="message-input"
                            placeholder="Ask Lumina anything about visual creativity..."
                            class="cosmic-input"
                            onkeypress="handleKeyPress(event)"
                        >
                        <button
                            onclick="sendMessage()"
                            class="absolute right-2 top-1/2 transform -translate-y-1/2 w-10 h-10 rounded-full flex items-center justify-center luminor-button"
                            id="send-button"
                        >
                            <span>‚Üí</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentLuminor = 'lumina';
        let isTyping = false;
        let micActive = false;
        
        const luminorData = {
            harmonix: {
                name: 'Harmonix',
                title: 'The Sonic Architect',
                domain: 'Music Synthesis',
                icon: 'üéµ',
                color: '#ff6b6b',
                personality: 'Rhythmic and flowing, speaks in musical metaphors',
                specialties: ['AI Music Generation', 'Sound Design'],
                responses: [
                    "Ah, I hear the melody of your intention! Let's compose something extraordinary together.",
                    "Your creative frequency is resonating beautifully. Shall we orchestrate your vision?",
                    "Music is the mathematics of emotion. Let me help you solve this beautiful equation."
                ],
                suggestions: ['Create a meditation soundscape', 'Generate upbeat electronic music', 'Design ambient background music', 'Compose a theme song']
            },
            lumina: {
                name: 'Lumina',
                title: 'The Vision Crafter',
                domain: 'Visual Synthesis',
                icon: 'üé®',
                color: '#45b7d1',
                personality: 'Visionary and ethereal, sees beauty in everything',
                specialties: ['AI Art Generation', 'Visual Design'],
                responses: [
                    "I see the colors of your imagination swirling. Let's paint reality with possibility.",
                    "Your vision shimmers with potential. Together we shall craft something transcendent.",
                    "Beauty exists in the space between thought and creation. Let's explore that dimension."
                ],
                suggestions: ['Design a futuristic logo', 'Create concept art', 'Generate artistic portraits', 'Design a color palette']
            },
            scripta: {
                name: 'Scripta',
                title: 'The Story Weaver',
                domain: 'Narrative Forge',
                icon: '‚úçÔ∏è',
                color: '#4ecdc4',
                personality: 'Flowing and eloquent, sees stories in everything',
                specialties: ['AI Writing', 'Story Structure'],
                responses: [
                    "Ah, another tale awaits birth. What story shall we weave into existence?",
                    "The threads of narrative call to us. Let's craft something that resonates through time.",
                    "Every great story begins with a single word. What shall be yours?"
                ],
                suggestions: ['Write a short story', 'Create compelling characters', 'Develop a plot outline', 'Craft engaging dialogue']
            },
            kinetix: {
                name: 'Kinetix',
                title: 'The Motion Master',
                domain: 'Motion Pictures',
                icon: 'üé¨',
                color: '#96ceb4',
                personality: 'Dynamic and energetic, thinks in visual sequences',
                specialties: ['AI Video Generation', 'Motion Graphics'],
                responses: [
                    "Motion tells the story that words cannot capture. Let's choreograph your narrative.",
                    "I see the frames of your vision unfolding. Time to set them in motion!",
                    "Every great story begins with a single frame. What shall be yours?"
                ],
                suggestions: ['Create a product demo video', 'Generate motion graphics', 'Design a short film concept', 'Create animated sequences']
            },
            syntaxa: {
                name: 'Syntaxa',
                title: 'The Digital Architect',
                domain: 'Code Craft',
                icon: 'üíª',
                color: '#feca57',
                personality: 'Logical yet creative, speaks in elegant abstractions',
                specialties: ['AI-Assisted Development', 'Creative Coding'],
                responses: [
                    "Elegant logic meets creative expression. I perceive the architecture of your idea.",
                    "Code is poetry in motion. Let's write verses that dance with purpose.",
                    "Your concept has beautiful symmetry. Shall we architect this digital dream?"
                ],
                suggestions: ['Build a creative coding project', 'Create an interactive website', 'Design an AI tool', 'Develop a game prototype']
            },
            nexus: {
                name: 'Nexus',
                title: 'The Integration Master',
                domain: 'Synthesis Academy',
                icon: '‚ö°',
                color: '#ff9ff3',
                personality: 'Holistic and integrative, sees connections everywhere',
                specialties: ['Cross-Domain Integration', 'Creative Business'],
                responses: [
                    "I see the connections between your creative domains. Let's weave them into something magnificent.",
                    "True mastery lies not in perfecting one craft, but in weaving all crafts into something entirely new.",
                    "The synthesis of your ideas creates possibilities beyond individual disciplines."
                ],
                suggestions: ['Create a multimedia project', 'Develop a creative business plan', 'Design an integrated experience', 'Plan a cross-domain collaboration']
            }
        };

        function selectLuminor(luminorId) {
            // Remove active class from all luminors
            document.querySelectorAll('.luminor-selector').forEach(el => {
                el.classList.remove('active');
                el.style.borderColor = 'rgba(61, 79, 115, 0.2)';
                el.style.background = '';
            });
            
            // Add active class to selected luminor
            const selectedEl = document.getElementById(`luminor-${luminorId}`);
            selectedEl.classList.add('active');
            selectedEl.style.borderColor = 'var(--arcanean-luminous)';
            selectedEl.style.background = 'rgba(91, 139, 217, 0.1)';
            
            currentLuminor = luminorId;
            updateCurrentLuminorInfo();
            clearChat();
            sendWelcomeMessage();
        }

        function updateCurrentLuminorInfo() {
            const luminor = luminorData[currentLuminor];
            
            // Update sidebar info
            document.getElementById('current-luminor-info').innerHTML = `
                <h4 class="font-semibold" style="color: var(--arcanean-transcendent);">${luminor.name}</h4>
                <p class="text-sm mb-2" style="color: var(--arcanean-aurora);">${luminor.personality}</p>
                
                <div class="space-y-1">
                    <span class="text-xs" style="color: var(--arcanean-aurora);">Specialties:</span>
                    <div class="flex flex-wrap gap-1">
                        ${luminor.specialties.map(specialty => `
                            <span class="px-2 py-1 text-xs rounded border" style="background: rgba(42, 45, 90, 0.5); color: var(--arcanean-radiant); border-color: rgba(61, 79, 115, 0.3);">
                                ${specialty}
                            </span>
                        `).join('')}
                    </div>
                </div>
            `;
            
            // Update header
            document.getElementById('header-luminor-name').textContent = luminor.name;
            document.getElementById('header-luminor-icon').innerHTML = `<span class="text-xl">${luminor.icon}</span>`;
            
            // Update input placeholder
            document.getElementById('message-input').placeholder = `Ask ${luminor.name} anything about ${luminor.domain.toLowerCase()}...`;
        }

        function clearChat() {
            const container = document.getElementById('messages-container');
            container.innerHTML = '';
        }

        function sendWelcomeMessage() {
            const luminor = luminorData[currentLuminor];
            const welcomeResponse = luminor.responses[Math.floor(Math.random() * luminor.responses.length)];
            
            addMessage('luminor', welcomeResponse, luminor.suggestions);
        }

        function addMessage(type, content, suggestions = null) {
            const container = document.getElementById('messages-container');
            const time = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
            
            const messageDiv = document.createElement('div');
            messageDiv.className = `chat-bubble ${type}`;
            
            if (type === 'luminor') {
                const luminor = luminorData[currentLuminor];
                messageDiv.innerHTML = `
                    <div class="flex items-center space-x-2 mb-2">
                        <div class="w-6 h-6 rounded-full flex items-center justify-center" style="background: rgba(${hexToRgb(luminor.color)}, 0.2);">
                            <span class="text-xs">${luminor.icon}</span>
                        </div>
                        <span class="text-xs" style="color: var(--arcanean-aurora);">${luminor.name}</span>
                    </div>
                    
                    <p class="mb-3">${content}</p>
                    
                    ${suggestions ? `
                        <div class="flex flex-wrap gap-2 mt-3">
                            ${suggestions.map(suggestion => `
                                <span class="suggestion-pill" onclick="sendSuggestion('${suggestion}')">${suggestion}</span>
                            `).join('')}
                        </div>
                    ` : ''}
                    
                    <div class="text-xs mt-2" style="color: rgba(184, 198, 237, 0.6);">
                        ${time}
                    </div>
                `;
            } else {
                messageDiv.innerHTML = `
                    <p class="mb-2">${content}</p>
                    <div class="text-xs" style="color: rgba(184, 198, 237, 0.6);">
                        ${time}
                    </div>
                `;
            }
            
            container.appendChild(messageDiv);
            container.scrollTop = container.scrollHeight;
        }

        function addTypingIndicator() {
            const container = document.getElementById('messages-container');
            const typingDiv = document.createElement('div');
            typingDiv.className = 'chat-bubble luminor';
            typingDiv.id = 'typing-indicator';
            
            const luminor = luminorData[currentLuminor];
            typingDiv.innerHTML = `
                <div class="flex items-center space-x-2 mb-2">
                    <div class="w-6 h-6 rounded-full flex items-center justify-center" style="background: rgba(${hexToRgb(luminor.color)}, 0.2);">
                        <span class="text-xs">${luminor.icon}</span>
                    </div>
                    <span class="text-xs" style="color: var(--arcanean-aurora);">${luminor.name} is thinking...</span>
                </div>
                <div class="typing-indicator">
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                </div>
            `;
            
            container.appendChild(typingDiv);
            container.scrollTop = container.scrollHeight;
        }

        function removeTypingIndicator() {
            const typingEl = document.getElementById('typing-indicator');
            if (typingEl) {
                typingEl.remove();
            }
        }

        function sendMessage() {
            const input = document.getElementById('message-input');
            const message = input.value.trim();
            
            if (!message || isTyping) return;
            
            addMessage('user', message);
            input.value = '';
            
            // Simulate Luminor response
            simulateLuminorResponse(message);
        }

        function sendSuggestion(suggestion) {
            addMessage('user', suggestion);
            simulateLuminorResponse(suggestion);
        }

        function simulateLuminorResponse(userMessage) {
            isTyping = true;
            addTypingIndicator();
            
            // Simulate thinking time
            setTimeout(() => {
                removeTypingIndicator();
                
                const luminor = luminorData[currentLuminor];
                const response = generateLuminorResponse(userMessage, luminor);
                const newSuggestions = Math.random() > 0.5 ? luminor.suggestions.slice(0, 2) : null;
                
                addMessage('luminor', response, newSuggestions);
                isTyping = false;
            }, 1500 + Math.random() * 1000);
        }

        function generateLuminorResponse(userMessage, luminor) {
            // Simple response generation based on keywords and context
            if (userMessage.toLowerCase().includes('help') || userMessage.toLowerCase().includes('how')) {
                return luminor.responses[0];
            } else if (userMessage.toLowerCase().includes('create') || userMessage.toLowerCase().includes('make')) {
                return luminor.responses[1];
            } else {
                return luminor.responses[Math.floor(Math.random() * luminor.responses.length)];
            }
        }

        function handleKeyPress(event) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                sendMessage();
            }
        }

        function toggleMic() {
            micActive = !micActive;
            const micButton = document.getElementById('mic-button');
            
            if (micActive) {
                micButton.style.background = 'var(--arcanean-luminous)';
                micButton.style.color = 'var(--arcanean-void)';
            } else {
                micButton.style.background = 'rgba(31, 35, 71, 0.3)';
                micButton.style.color = 'var(--arcanean-aurora)';
            }
        }

        function hexToRgb(hex) {
            const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
            return result ? 
                `${parseInt(result[1], 16)}, ${parseInt(result[2], 16)}, ${parseInt(result[3], 16)}` : 
                '69, 183, 209';
        }

        // Initialize
        updateCurrentLuminorInfo();
        sendWelcomeMessage();
    </script>
</body>
</html>